import { useState } from "react";
import { Link, useLocation } from "react-router-dom";

const ShoppingCartIcon = () => (
  <svg
    className="nav-icon"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.8 5H19M7 13v6a2 2 0 002 2h6a2 2 0 002-2v-6"
    />
  </svg>
);

const ServerIcon = () => (
  <svg
    className="nav-icon"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"
    />
  </svg>
);

const CreditCardIcon = () => (
  <svg
    className="nav-icon"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"
    />
  </svg>
);

const SettingsIcon = () => (
  <svg
    className="nav-icon"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
    />
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
    />
  </svg>
);

const HelpCircleIcon = () => (
  <svg
    className="help-icon"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
    />
  </svg>
);

const ChevronLeftIcon = () => (
  <svg
    className="collapse-icon"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M15 19l-7-7 7-7"
    />
  </svg>
);

const ChevronRightIcon = () => (
  <svg
    className="collapse-icon"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      strokeWidth={2}
      d="M9 5l7 7-7 7"
    />
  </svg>
);
const aiChipIcon = () => (
  <svg
    className="nav-icon"
    fill="none"
    stroke="#ffffff"
    viewBox="0 0 132 132"
    xmlns="http://www.w3.org/2000/svg"
    preserveAspectRatio="xMidYMid meet"
  >
    <path
      d="M103.556 103.556C97.1129 110 86.7416 110 66 110C45.2582 110 34.8873 110 28.4436 103.556C22 97.1129 22 86.7416 22 66C22 45.2582 22 34.8873 28.4436 28.4436C34.8873 22 45.2582 22 66 22C86.7416 22 97.1129 22 103.556 28.4436C110 34.8873 110 45.2582 110 66C110 86.7416 110 97.1129 103.556 103.556Z"
      stroke="#ffffff"
      strokeWidth="8.25"
      strokeLinecap="round"
      strokeLinejoin="round"
    />
    <path
      d="M44 11V22M88 11V22M66 11V22M44 110V121M66 110V121M88 110V121M121 88H110M22 44H11M22 88H11M22 66H11M121 44H110M121 66H110"
      stroke="#141B34"
      strokeWidth="8.25"
      strokeLinecap="round"
      strokeLinejoin="round"
    />
    <path
      d="M63.1411 43.2406C64.1228 40.5865 67.8771 40.5865 68.8589 43.2406L73.2611 55.1364C73.8787 56.8056 75.1943 58.1212 76.8636 58.7389L88.7595 63.1411C91.4133 64.1228 91.4133 67.8771 88.7595 68.8589L76.8636 73.2611C75.1943 73.8787 73.8787 75.1943 73.2611 76.8636L68.8589 88.7595C67.8771 91.4133 64.1228 91.4133 63.1411 88.7595L58.7389 76.8636C58.1212 75.1943 56.8056 73.8787 55.1364 73.2611L43.2406 68.8589C40.5865 67.8771 40.5865 64.1228 43.2406 63.1411L55.1364 58.7389C56.8056 58.1212 58.1212 56.8056 58.7389 55.1364L63.1411 43.2406Z"
      stroke="#ffffff"
      strokeWidth="8.25"
    />
  </svg>
);


const navigation = [
  { name: "Marketplace", href: "/", icon: ShoppingCartIcon },
  { name: "Your GPUs", href: "/gpus", icon: ServerIcon },
  { name: "Credits", href: "/credits", icon: CreditCardIcon },
  { name: "Provider", href: "/provider", icon: SettingsIcon },
  { name: "Image Generator", href: "/imageGenerator", icon: aiChipIcon },
];

export default function Sidebar() {
  const [collapsed, setCollapsed] = useState(false);
  const location = useLocation();

  return (
    <div className={`sidebar ${collapsed ? "collapsed" : ""}`}>
      <div className="sidebar-header">
        <div className="sidebar-logo">
          {!collapsed && <svg width="150" height="41" viewBox="0 0 150 41" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M36.4029 39.3743L36.4025 39.3787L36.4143 39.3729L36.4029 39.3743Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M36.6442 34.8084C36.6207 36.2295 36.55 37.7612 36.4029 39.3743C31.5996 39.9972 26.2081 40.3464 20.8696 40.3464C15.5269 40.3464 10.5026 40.0199 5.83807 39.437C5.68475 37.7989 5.60809 36.2424 5.5904 34.8025C4.8147 34.7167 4.04064 34.6292 3.26735 34.5417L3.26389 34.5414L3.26299 34.5413C2.56805 34.4627 1.87373 34.3842 1.17941 34.307C0.406896 29.7834 0 25.2713 0 20.2347C0 15.198 0.442279 10.2954 1.27376 5.59681C1.86657 5.53109 2.46068 5.46408 3.05549 5.397C3.72689 5.32127 4.39917 5.24545 5.07146 5.17126C5.08915 3.8946 5.14812 2.53633 5.26606 1.10228C10.0898 0.472694 15.4974 0.122925 20.8579 0.122925C26.2183 0.122925 31.2543 0.449376 35.9366 1.03815C36.0604 2.4897 36.1194 3.87711 36.1371 5.17126L40.9786 5.71923C41.7983 10.3828 42.2346 15.4078 42.2346 20.2405C42.2346 25.0731 41.8218 29.7834 41.0552 34.3129C40.2781 34.3989 39.5025 34.4866 38.7278 34.5742L38.7265 34.5743C38.032 34.6528 37.3381 34.7312 36.6442 34.8084ZM10.513 31.0177C10.0382 27.9826 9.68914 24.3969 9.69612 20.3707C9.7031 16.4959 10.0522 13.0272 10.513 10.0747C13.522 9.63421 17.0197 9.31075 20.9224 9.29698C24.9996 9.28322 28.6439 9.61357 31.7507 10.0747C32.0555 12.0885 32.3018 14.3233 32.432 16.7528H27.2075C27.1395 16.063 27.0562 15.4085 26.9628 14.7916C25.2541 14.538 23.2497 14.3563 21.0072 14.3638C18.8608 14.3714 16.937 14.5493 15.2821 14.7916C15.0286 16.4155 14.8366 18.3233 14.8328 20.4544C14.829 22.6688 15.0209 24.6409 15.2821 26.3102C16.9255 26.5601 18.8531 26.7417 21.0072 26.7493C23.2574 26.7569 25.2618 26.5676 26.9628 26.3102C27.1145 25.2955 27.2414 24.175 27.3172 22.9625H20.6881V18.4462L32.5023 18.4464C32.52 19.0452 32.5304 19.6546 32.5326 20.2743C32.5466 24.3143 32.2115 27.9344 31.7507 31.0177C28.6579 31.4857 25.0135 31.8298 20.9224 31.816C17.0058 31.8023 13.501 31.4719 10.513 31.0177Z" fill="white"/>
<path d="M149.688 12.1573V14.5833H144.393V28.8147H141.77V14.5833H136.5V12.1573H149.688Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M136.187 14.5331V14.8957H141.457V29.1271H144.704V14.8957H150V11.8444H136.187V12.157H136.346V14.5331H136.187ZM144.392 14.5831H149.688V12.157H136.499V14.5831H141.769V28.8144H144.392V14.5831Z" fill="white"/>
<path d="M136.346 12.157H136.187V14.5331H136.346V12.157Z" fill="white"/>
<path d="M126.026 26.4386H134.694V28.8147H123.404V12.1573H134.444V14.5333H126.026V19.0603H133.945V21.4364H126.026V26.4386Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M126.027 26.4384V21.4362H133.945V19.0601H126.027V14.5331H134.445V12.157H123.404V28.8144H134.694V26.4384H126.027Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M134.757 14.8457V11.8444H123.092V29.1271H135.007V26.1257H126.339V21.7488H134.257V18.7475H126.339V14.8457H134.757ZM134.694 26.4384H126.027V21.4362H133.945V19.0601H126.027V14.5331H134.445V12.157H123.404V28.8144H134.694V26.4384Z" fill="white"/>
<path d="M118.543 12.1573H121.041V28.8147H118.518L109.925 16.2591L110.025 18.0849V28.8147H107.527V12.1573H110.025L118.618 24.5628L118.543 22.837V12.1573Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M118.542 12.1571V22.8368L118.617 24.5626L110.025 12.1571H107.527V28.8145H110.025V18.0847L109.925 16.2589L118.517 28.8145H121.04V12.1571H118.542ZM110.297 17.3566L118.353 29.1271H121.353V11.8444H118.23V22.8436L118.258 23.4959L110.188 11.8444H107.214V29.1271H110.337V18.0761L110.297 17.3566Z" fill="white"/>
<path d="M96.1519 12.1573H98.6748V21.8866C98.6748 26.5387 95.9271 29.1398 91.9305 29.1398C87.784 29.1398 85.0613 26.6637 85.0613 22.0617V12.1573H87.6841V21.9366C87.6841 25.2631 89.4326 26.6887 92.0804 26.6887C94.4783 26.6887 96.1519 25.3131 96.1519 21.8366V12.1573Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M96.1522 12.1571V21.8364C96.1522 25.3129 94.4786 26.6885 92.0806 26.6885C89.4328 26.6885 87.6843 25.2629 87.6843 21.9364V12.1571H85.0615V22.0615C85.0615 26.6635 87.7842 29.1396 91.9307 29.1396C95.9274 29.1396 98.675 26.5384 98.675 21.8864V12.1571H96.1522ZM95.8399 11.8444H98.9873V21.8864C98.9873 24.2741 98.2811 26.1719 97.0264 27.4745C95.7709 28.778 93.998 29.4522 91.9307 29.4522C89.7958 29.4522 87.9918 28.8137 86.721 27.5479C85.4496 26.2816 84.7493 24.4245 84.7493 22.0615V11.8444H87.9966V21.9364C87.9966 23.5472 88.4193 24.644 89.1108 25.3393C89.8024 26.0345 90.8103 26.3759 92.0806 26.3759C93.2204 26.3759 94.1438 26.0504 94.7863 25.354C95.4324 24.6536 95.8399 23.5289 95.8399 21.8364V11.8444Z" fill="white"/>
<path d="M77.2878 12.1573C80.7598 12.1573 82.8331 13.933 82.8331 17.2095C82.8331 20.586 80.3352 22.5619 77.038 22.5619H72.4419V28.8147H69.8191V12.1573H77.2878ZM80.1603 17.3346C80.1853 15.5087 78.8614 14.5583 76.8132 14.5583H72.4419V20.1358H76.8132C78.8614 20.1358 80.1354 19.1354 80.1603 17.3346Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M82.8333 17.2093C82.8333 13.9328 80.7601 12.157 77.288 12.157H69.8193V28.8144H72.4421V22.5616H77.0382C80.3354 22.5616 82.8333 20.5858 82.8333 17.2093ZM72.7543 22.8743H77.0382C78.7474 22.8743 80.2745 22.3619 81.3788 21.3861C82.4876 20.4062 83.1455 18.9803 83.1455 17.2093C83.1455 15.5025 82.6032 14.1467 81.5709 13.2215C80.5439 12.3011 79.0737 11.8444 77.288 11.8444H69.5071V29.1271H72.7543V22.8743ZM76.8134 14.5581C78.8617 14.5581 80.1855 15.5085 80.1606 17.3343C80.1356 19.1351 78.8617 20.1356 76.8134 20.1356H72.4421V14.5581H76.8134ZM72.7543 14.8707V19.8229H76.8134C77.7908 19.8229 78.5427 19.584 79.0475 19.1687C79.5445 18.7598 79.837 18.1516 79.8484 17.33C79.8597 16.5013 79.569 15.9043 79.0699 15.506C78.5597 15.0991 77.7948 14.8707 76.8134 14.8707H72.7543Z" fill="white"/>
<path d="M60.7738 20.0861H67.693V28.815H65.4449L65.295 26.8391C64.2459 28.3898 62.6722 29.1401 60.3742 29.1401C56.1028 29.1401 53.1053 26.2138 53.1053 20.6363C53.1053 15.259 56.2526 11.8324 60.8737 11.8324C64.3958 11.8324 66.6439 13.5332 67.3433 16.4095L64.9203 17.0598C64.3208 15.0088 62.7472 14.1835 60.8737 14.1835C57.8513 14.1835 55.803 16.3845 55.803 20.5113C55.803 24.6881 57.7014 26.664 60.6239 26.664C63.5215 26.664 65.1701 25.2134 65.1701 22.4121H60.7738V20.0861Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M60.4618 19.7732H68.0054V29.1274H65.1557L65.0447 27.6642C63.9445 28.8749 62.4157 29.4525 60.3744 29.4525C58.1645 29.4525 56.2575 28.6933 54.906 27.1886C53.5577 25.6874 52.7933 23.4791 52.7933 20.6361C52.7933 17.8873 53.5983 15.6068 55.024 14.0093C56.4525 12.4088 58.482 11.5196 60.874 11.5196C62.6846 11.5196 64.1951 11.957 65.3495 12.7883C66.5064 13.6214 67.2816 14.8331 67.6469 16.3353L67.7191 16.6321L64.7066 17.4406L64.6209 17.1474C64.3399 16.186 63.8381 15.5316 63.2034 15.1135C62.5643 14.6926 61.7665 14.4959 60.874 14.4959C59.4438 14.4959 58.2684 15.0134 57.4448 16.0001C56.6157 16.9934 56.1155 18.496 56.1155 20.5111C56.1155 22.5574 56.5811 24.0142 57.3583 24.9544C58.1282 25.8858 59.2378 26.3512 60.6242 26.3512C62.0248 26.3512 63.0747 26.0005 63.7725 25.3582C64.4108 24.7706 64.7938 23.9027 64.8507 22.7245H60.4618V19.7732ZM65.1703 22.4119C65.1703 22.5181 65.168 22.6223 65.1633 22.7245C65.0436 25.321 63.4119 26.6638 60.6242 26.6638C57.7016 26.6638 55.8033 24.6879 55.8033 20.5111C55.8033 16.3842 57.8515 14.1833 60.874 14.1833C62.7474 14.1833 64.3211 15.0086 64.9205 17.0595L67.3435 16.4092C66.6441 13.533 64.396 11.8322 60.874 11.8322C56.2529 11.8322 53.1055 15.2587 53.1055 20.6361C53.1055 26.2136 56.103 29.1399 60.3744 29.1399C62.4738 29.1399 63.9686 28.5137 65.0112 27.2231C65.1099 27.101 65.2045 26.9729 65.2952 26.8389L65.4451 28.8147H67.6932V20.0859H60.7741V22.4119H65.1703Z" fill="white"/>
<path d="M104.581 27.1062C104.581 28.2169 103.681 29.1173 102.57 29.1173C101.459 29.1173 100.559 28.2169 100.559 27.1062C100.559 25.9954 101.459 25.095 102.57 25.095C103.681 25.095 104.581 25.9954 104.581 27.1062Z" fill="white"/>
</svg>}
{ collapsed && <svg width="150" height="41" viewBox="0 0 40 41" fill="#f85712" xmlns="http://www.w3.org/2000/svg">
<path d="M36.4029 39.3743L36.4025 39.3787L36.4143 39.3729L36.4029 39.3743Z" fill="#f85712"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M36.6442 34.8084C36.6207 36.2295 36.55 37.7612 36.4029 39.3743C31.5996 39.9972 26.2081 40.3464 20.8696 40.3464C15.5269 40.3464 10.5026 40.0199 5.83807 39.437C5.68475 37.7989 5.60809 36.2424 5.5904 34.8025C4.8147 34.7167 4.04064 34.6292 3.26735 34.5417L3.26389 34.5414L3.26299 34.5413C2.56805 34.4627 1.87373 34.3842 1.17941 34.307C0.406896 29.7834 0 25.2713 0 20.2347C0 15.198 0.442279 10.2954 1.27376 5.59681C1.86657 5.53109 2.46068 5.46408 3.05549 5.397C3.72689 5.32127 4.39917 5.24545 5.07146 5.17126C5.08915 3.8946 5.14812 2.53633 5.26606 1.10228C10.0898 0.472694 15.4974 0.122925 20.8579 0.122925C26.2183 0.122925 31.2543 0.449376 35.9366 1.03815C36.0604 2.4897 36.1194 3.87711 36.1371 5.17126L40.9786 5.71923C41.7983 10.3828 42.2346 15.4078 42.2346 20.2405C42.2346 25.0731 41.8218 29.7834 41.0552 34.3129C40.2781 34.3989 39.5025 34.4866 38.7278 34.5742L38.7265 34.5743C38.032 34.6528 37.3381 34.7312 36.6442 34.8084ZM10.513 31.0177C10.0382 27.9826 9.68914 24.3969 9.69612 20.3707C9.7031 16.4959 10.0522 13.0272 10.513 10.0747C13.522 9.63421 17.0197 9.31075 20.9224 9.29698C24.9996 9.28322 28.6439 9.61357 31.7507 10.0747C32.0555 12.0885 32.3018 14.3233 32.432 16.7528H27.2075C27.1395 16.063 27.0562 15.4085 26.9628 14.7916C25.2541 14.538 23.2497 14.3563 21.0072 14.3638C18.8608 14.3714 16.937 14.5493 15.2821 14.7916C15.0286 16.4155 14.8366 18.3233 14.8328 20.4544C14.829 22.6688 15.0209 24.6409 15.2821 26.3102C16.9255 26.5601 18.8531 26.7417 21.0072 26.7493C23.2574 26.7569 25.2618 26.5676 26.9628 26.3102C27.1145 25.2955 27.2414 24.175 27.3172 22.9625H20.6881V18.4462L32.5023 18.4464C32.52 19.0452 32.5304 19.6546 32.5326 20.2743C32.5466 24.3143 32.2115 27.9344 31.7507 31.0177C28.6579 31.4857 25.0135 31.8298 20.9224 31.816C17.0058 31.8023 13.501 31.4719 10.513 31.0177Z" fill="#f85712"/>
</svg>}

        </div>
         <button
    className="collapse-ear"
    onClick={() => setCollapsed(!collapsed)}
    aria-label="Collapse sidebar"
  >
    {collapsed ? <ChevronRightIcon /> : <ChevronLeftIcon />}
  </button>
      </div>

  
      <nav className="sidebar-nav">
        {navigation.map((item) => {
          const isActive = location.pathname === item.href;
          const IconComponent = item.icon;
          return (
            <Link
              key={item.name}
              to={item.href}
              className={`nav-item ${isActive ? "active" : ""}`}
            >
              <IconComponent />
              <span className="nav-text">{item.name}</span>
            </Link>
          );
        })}
      </nav>

    
      <div className="sidebar-help">
        <div className="help-card">
          <div className="help-header">
            <HelpCircleIcon />
            <span className="help-title">Need Help?</span>
          </div>
          <p className="help-text">Go through our guide on how to rent GPUs</p>
          <button className="enterprise-button">Enterprise Orders</button>
        </div>

        <button className="help-icon-only">
          <HelpCircleIcon />
        </button>
      </div>
    </div>
  );
}
